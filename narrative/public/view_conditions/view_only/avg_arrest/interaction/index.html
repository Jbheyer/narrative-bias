<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Drug Related Arrests</title>
    <link href="css/styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>

<div class="allContent">
<div class="column1">
<div id="textContentHolder">
    <p id="textContent">
        <strong>View</strong> the <strong>percentage of drug related arrests</strong> for the Indiana counties St. Joseph and Hamilton using the visualization space below
    </p>
</div>

    <div id="visualizationHolder">
        <!--place image here-->
        <div id="sideBarLeft">
        <!-- why does the the text over icon1 not follow the #sideBarLeft in the css?-->
            <p></p>
            <id class="icon1" src =""/></div>     
            
          
                  <div id="visHolder">
                    <svg width="500" height="400" style="fill: black; border: solid 2px black">
          
                      
                      <!-- create text variable to append to line -->
          
            
                      <g id="chart" transform="translate(120,50)">
          
                        <text id="text1" x="25" y="320">ST. JOSEPH COUNTY</text>
                        <text id="text2" x="175" y="320">HAMILTON COUNTY</text>
                        <text id="text5" x="-225" y="-55" transform="rotate(-90)">DRUG RELATED ARRESTS</text>

                        <line id="axis" stroke="black" x1="0" y1="300" x2="300" y2="300" style=""></line>
          
            
          
                        <g id="yAxis" class="axis">
          
                          
          
                        </g>
          
                      </g>
          
            
          
                      <!-- drag me rectangle and label -->
          
                     
          
            
          
                    </svg>
        
                       
        </div>
          <div id="sideBarRight">
              
        </div>
    </div>

    <div id="textContentTwo">
        <p><strong>Explain</strong> why you think the data shows this <strong>and</strong> if it is different then what you thought it would show</p>
    </div>

    <div class="container">
            <form action="../../../LandingPage - VO/index.html">
            <div class="row">
              <div class="col-25">            
              </div>
              <div class="col-75">
                <textarea id="subject1" name="response" placeholder="ENTER TEXT/CLICK HERE" style="height:100px"></textarea>
              </div>
            </div>
            <div class="row">
              
            </div>
            </form>
          </div> 

    
</div>


<div class="column2">
    <img id="indianaMap" src="use.PNG"/>
    <div id="textContentThree">
    <p></p>
    </div>
    <div class="container">
            
            <div class="row">
              <div class="col-25">
              
            <div class="row">
              <div class="col-25">
                <label for="response"></label>
              </div>
              <div class="col-75">
                
              </div>
            </div>
            
          </div> 
          <div id="arrowHolder"><div id="arrow">
              <a onclick="myAjax()">&#10152;</a>
            </div></div>
            <p>NEXT</p>
</div>

</div>
</div>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="https://d3js.org/d3.v3.min.js"></script>

<script src="js/chart.js"></script>
<script src="js/app.js"></script>


    <script type="text/javascript">
        function myAjax() {

            console.log("hello");
            var textValue = $("#subject1").val().trim();
            if(textValue.length > 0){

                $.ajax({
                    type: "POST",
                    url: '../../../update_vo.php',
                    data:{
                        'interactionText': textValue,
                        'type':'interactionText',
                        'theme':'ARREST'},
                    success: function(data, textStatus, xhr) {
                        console.log(data);
                        if(data.indexOf('success') >= 0) { // if true (1)
                            setTimeout(function(){// wait for 5 secs(2)
                                location.href = '../synthesis/index.html'; // then reload the page.(3)
                            }, 100);
                        }
                        else{
                            alert("Database Error")
                            //location.href = 'user.php';

                        }
                    },
                    error: function(xhr, textStatus, errorThrown) {
                        console.log(textStatus.reponseText);
                    }
                });
            }
            else{
                alert("Please make a prediction in the input fields below");
            }
        }

    </script>
</body>
</html>